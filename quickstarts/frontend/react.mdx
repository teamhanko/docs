---
sidebarTitle: "React"
title: Integrate Hanko with React
description: Learn how to quickly add authentication and user profile in your React app using Hanko.
---


## Create a React application

To setup our React Frontend we will use [vite](https://vite.dev/) as a build tool.

Run the following command to [create a new Vite React application](https://vite.dev/guide/):

<CodeGroup>
```bash npm
npm create vite@latest project-name -- --template react-ts
```

```bash pnpm
pnpm create vite project-name --template react-ts
```

```bash bun
bun create vite project-name --template react-ts
```

```bash yarn
yarn create vite project-name --template react-ts
``` 

</CodeGroup>



## Install `@teamhanko/hanko-elements`

Once you've initialized your React app, installing hanko-elements provides you with access to the prebuilt components: `hanko-auth` and `hanko-profile`.

We will also install the `react-router-dom` , this will allow us to navigate trough pages / routes.
<CodeGroup>
```bash npm
cd project-name
npm install @teamhanko/hanko-elements react-router-dom
``` 

```bash pnpm
cd project-name
pnpm add @teamhanko/hanko-elements react-router-dom
```

```bash bun
cd project-name
bun add @teamhanko/hanko-elements react-router-dom
```

```bash yarn
cd project-name
yarn add @teamhanko/hanko-elements react-router-dom
```

</CodeGroup>



## Setup your Hanko project
Go to the [Hanko console](https://cloud.hanko.io/) and [create a project for this application.](/setup-hanko-cloud)

<Note>
  During creation make sure to input the URL you will be developing on as the `APP URL`.
  (Most likely http://localhost:5173/) \
\
  If you already have a project you can change the URL at:\
  `'your project' > Settings > URLs > App URL`.
</Note>



## Add the Hanko API URL

Retrieve the API URL from the [Hanko console](https://cloud.hanko.io/) and place it in your [.env file](https://vite.dev/guide/env-and-mode).

```sh .env
VITE_HANKO_API_URL=https://f4****-4802-49ad-8e0b-3d3****ab32.hanko.io
```

<Note>
  If you are self-hosting you need to provide the URL of your running Hanko
  backend.
</Note>

## Create Hanko components
Lets create a folder called `components` and create two files, `HankoAuth.tsx` and `HankoProfile.tsx`.

Both of these components use the Hanko client from [@teamhanko/hanko-elements](/guides/hanko-elements/introduction), this allows you subscribe to specific [events](/guides/hanko-elements/using-frontend-sdk#events). For instance, the `onSessionCreated` event in the hanko auth triggers when a user successfully logs in. You can use these event to perform any desired action.

### JSX setup

To get these elements to work in a build we first need to add the element props to the JSX IntrinsicElements.
You can do this by creating a file called `custom.d.ts` and placing this in your apps root / src folder
```jsx src/custom.d.ts
import { HankoAuthElementProps, HankoProfileElementProps, HankoEventsElementProps } from "@teamhanko/hanko-elements";

declare module "react" {
  namespace JSX {
    interface IntrinsicElements {
        "hanko-auth": HankoAuthElementProps;
        "hanko-login": HankoAuthElementProps;
        "hanko-registration": HankoAuthElementProps;
        "hanko-profile": HankoProfileElementProps;
        "hanko-events": HankoEventsElementProps;
    }
  }
}
```

### Hanko Auth
Now Lets Setup the `HankoAuth.tsx` file to create a functioning login page.

[For more information please refer to the Auth Component Page.](/guides/hanko-elements/auth-component)

```jsx components/HankoAuth.tsx
import { useEffect, useCallback, useMemo } from "react";
import { useNavigate } from 'react-router-dom';
import { register, Hanko } from "@teamhanko/hanko-elements";

const hankoApi = import.meta.env.VITE_HANKO_API_URL;
 
export default function HankoAuth() {
  const navigate = useNavigate();
 
  const hanko = useMemo(() => new Hanko(hankoApi), []);
 
  const redirectAfterLogin = useCallback(() => {
    // successfully logged in, redirect to a page in your application
    navigate("/dashboard");
  }, [navigate]);

  useEffect(
    () =>
      hanko?.onSessionCreated(() => {
        redirectAfterLogin();
      }),
    [hanko, redirectAfterLogin]
  );
 
  useEffect(() => {
    register(hankoApi).catch((error) => {
      // handle error
      console.log(error)
    });
  }, []);
 
  return <hanko-auth/>;
}
```

After you created the `HankoAuth` component, import and add it in any page.\
Just like this.

```jsx pages/loginPage.tsx
import HankoAuth from "../components/HankoAuth";

export default function LoginPage() {
  return (
      <HankoAuth/>
  );
}
```

### Hanko profile

After setting up the HankoAuth lets Setup the `HankoProfile.jsx` file to create a interface where users can.\
manage their `Password` , `Email Addresses`, `Passkeys`, `Security Keys` and `Sessions`.

[For more information please refer to the Profile Component Page.](/guides/hanko-elements/profile-component)

```jsx components/HankoProfile.tsx
import { useEffect } from "react";
import { register } from "@teamhanko/hanko-elements";

const hankoApi = import.meta.env.VITE_HANKO_API_URL;

export default function HankoProfile() {
  useEffect(() => {
    register(hankoApi).catch((error) => {
      // handle error
      console.log(error)
    });
  }, []);

  return <hanko-profile />;
}

```

After you created the `HankoProfile` component, simply import it into any page.\
In our case we created a dashboard.tsx file to show the HankoProfile as our login page redirects to `/dashboard`.

```jsx pages/dashboardPage.tsx
import HankoProfile from "../components/HankoProfile";

export default function Dashboard() {
  return (
    <div>
      <HankoProfile/>
    </div>
  );
}
```


## Setup your routes

After you created the `LoginPage.tsx` and `DashboardPage.tsx` you are able to import them into your react `App.tsx`.
We will use `react-router-dom` to setup the routes of your app.

```jsx App.tsx
import './App.css'
import { Route, createBrowserRouter, createRoutesFromElements, RouterProvider } from 'react-router-dom';

import LoginPage from './pages/loginPage';
import Dashboard from './pages/dashboardPage';


const router = createBrowserRouter(
  createRoutesFromElements(
    <Route path="/">
      {/* index route with Login page*/}
      <Route index element={<LoginPage />} /> 
       {/* dashboard route with Dashboard page*/}
      <Route path="dashboard" element={<Dashboard />} />
    </Route>
  )
)

export default function App(){
  return (
    <RouterProvider router={router} />
  )
}
```

By now you should be able to go to `/` to see the `<HankoAuth>`, and to `/dashboard` to see the `<HankoProfile>`.

They should look something like thisðŸ‘‡
<Frame>
  <div style={{justifyContent: 'center', alignItems: 'center', display: 'flex', backgroundColor: 'white'}}>
    <img src="/images/fullstack-guide/next-one.png" alt="sign up" width="500"/>
    <img src="/images/fullstack-guide/next-two.png" alt="profile page" width="500" />
  </div>
</Frame>


## Implement logout functionality

You can use `@teamhanko/hanko-elements` to easily manage user logouts. Here we will make a logout button component that you can use anywhere.

For this QuickStart we will create a file at `components/LogoutButton.tsx` and insert the code below.

  ```jsx components/LogoutButton.tsx
  import { useState, useEffect } from "react";
  import { useNavigate } from "react-router-dom";
  import { Hanko } from "@teamhanko/hanko-elements";

  const hankoApi = import.meta.env.VITE_HANKO_API_URL;

  function LogoutBtn() {
    const navigate = useNavigate();
    const [hanko, setHanko] = useState<Hanko>();

    useEffect(() => {
      import("@teamhanko/hanko-elements").then(({ Hanko }) =>
        setHanko(new Hanko(hankoApi ?? ""))
      );
    }, []);

    const logout = async () => {
      try {
        await hanko?.user.logout();
        
        navigate("/"); //Path to naviage to once the user logs out.

      } catch (error) {
        console.error("Error during logout:", error);
      }
    };

    return <button onClick={logout}>Logout</button>;
  }

  export default LogoutBtn;
  ```

## Customize component styles

You can customize the appearance of `hanko-auth` and `hanko-profile` components using CSS variables and parts. Refer to our [customization guide](/guides/hanko-elements/customize-appearance).

## Securing routes
To secure our routes we can await a fetch request to a running [Hanko Backend](/quickstarts/backend/node) to validate our hanko cookie token.

Lets set up a Private route to do this for us.
Create a new React component at `components/PrivateRoute.tsx`.

If the backend couldnt validate our token we get navigated back to `/`.
Otherwise if the validation was successfull it will return the children inside the private route.

```jsx components/PrivateRoute.tsx
import { ReactNode, useEffect, useState } from 'react';
import { Navigate, useLocation } from 'react-router-dom';

export default function PrivateRoute({ children }: { children: ReactNode }) {
    const [isAuthenticated, setIsAuthenticated] = useState<boolean | null>(null);
    const location = useLocation();
  
    useEffect(() => {
      fetch('http://localhost:5001/validate', {// Change this to the validation url of your running backend
        credentials: 'include', // This is required to include the cookie in the request
      })
        .then((res) => {
          setIsAuthenticated(res.ok);
        })
        .catch(() => {
          setIsAuthenticated(false);
        });
    }, []);
  
    if (isAuthenticated === null) {
      return null; // Or a loading spinner
    }

    if(isAuthenticated){ return <>{children}</> }

    //Url to naviage user to if they arent authenticated
    return <Navigate to="/" replace state={{ from: location }} />
  }
```

Lets import this `PrivateRoute.tsx` to your `App.tsx` file.\
To use the private route wrap your `Dashboard` in the Private Route;

```jsx App.tsx
import './App.css'
import { Route, createBrowserRouter, createRoutesFromElements, RouterProvider } from 'react-router-dom';

import LoginPage from './pages/loginPage';
import Dashboard from './pages/dashboardPage';

import PrivateRoute from './components/PrivateRoute';

const router = createBrowserRouter(
  createRoutesFromElements(
    <Route path="/">
      {/* index route with Login page*/}
      <Route index element={ <LoginPage />} /> 
       {/* secured dashboard route with Dashboard page*/}
      <Route path="dashboard" element={<PrivateRoute> <Dashboard /> </PrivateRoute>} />
    </Route>
  )
)

export default function App(){
  return (
    <RouterProvider router={router} />
  )
}
```


## Getting User and Session Data

### Client Side

We will create two custom hooks to fetch the current user's data and session data using `@teamhanko/hanko-elements`. The `useUserData` hook leverages the `hanko.user.getCurrent()` method to retrieve the currently logged-in user's data. 

On the other hand, the `useSessionData` hook uses the `hanko.session.isValid()` and `hanko.session.get()` methods to validate and fetch the current session data.

<Tabs>
<Tab title="useUserData">
```jsx hooks/useUserData.ts
import { useState, useEffect, useMemo } from "react";
import { Hanko } from "@teamhanko/hanko-elements";

const hankoApi = process.env.REACT_APP_HANKO_API_URL;
// const hankoApi = import.meta.env.VITE_HANKO_API_URL; // for Vite

interface HankoUser {
  id: string;
  email: string;
  loading: boolean;
  error: string | null;
}

export function useUserData(): HankoUser {
  const hanko = useMemo(() => new Hanko(hankoApi), []);
  const [userState, setUserState] = useState<HankoUser>({
    id: "",
    email: "",
    loading: true,
    error: null,
  });

  useEffect(() => {
    hanko?.user
      .getCurrent()
      .then(({ id, email }) => {
        setUserState({ id, email, loading: false, error: null });
      })
      .catch((error) => {
        setUserState((prevState) => ({ ...prevState, loading: false, error }));
      });
  }, [hanko]);

  return userState;
}
```
</Tab>

<Tab title="useSessionData">
```jsx hooks/useSessionData.ts
import { useState, useEffect, useMemo } from "react";
import { Hanko } from "@teamhanko/hanko-elements";

const hankoApi = process.env.REACT_APP_HANKO_API_URL;
// const hankoApi = import.meta.env.VITE_HANKO_API_URL; // for Vite

interface HankoSession {
  userID: string;
  jwt: string;
  isValid: boolean;
  loading: boolean;
  error: string | null;
}

export function useSessionData(): HankoSession {
  const hanko = useMemo(() => new Hanko(hankoApi), []);
  const [sessionState, setSessionState] = useState<HankoSession>({
    userID: "",
    jwt: "",
    isValid: false,
    loading: true,
    error: null,
  });

  useEffect(() => {
    if (hanko) {
      const isValid = hanko.session.isValid();
      const session = hanko.session.get();

      if (isValid && session) {
        const { userID, jwt = "" } = session;
        setSessionState({
          userID,
          jwt,
          isValid,
          loading: false,
          error: null,
        });
      } else {
        setSessionState((prevState) => ({
          ...prevState,
          isValid: false,
          loading: false,
          error: "Invalid session",
        }));
      }
    }
  }, [hanko]);

  return sessionState;
}
```
</Tab>
</Tabs>

This is how you can use them according to your needs.

```jsx components/userData.tsx
import { useUserData } from "@/hooks/useUserData";
import { useSessionData } from "@/hooks/useSessionData";

const UserData = () => {
  const { id, email, loading: userDataLoading, error: userDataError } = useUserData();
  const { userID, jwt, isValid, loading: sessionDataLoading, error: sessionDataError } = useSessionData();

  if (userDataLoading) {
    return <div>Loading...</div>;
  }

  return (
    <div>
      <div>User id: {id}</div>
      <div>User email: {email}</div>
    </div>
  );
};

export default UserData;
```


## Try it yourself


  <Card
    title="React example (Vite)"
    href="https://github.com/teamhanko/hanko-react-express-starter"
    icon={
      <svg
        xmlns="http://www.w3.org/2000/svg"
        className="icon icon-tabler icon-tabler-external-link"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        strokeWidth="2"
        stroke="#5465FF"
        fill="none"
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6"></path>
        <path d="M11 13l9 -9"></path>
        <path d="M15 4h5v5"></path>
      </svg>
    }
  >
    It uses Express.js for the backend, full source code available on our GitHub.
  </Card>
