---
title: JavaScript/TypeScript SDK
description: A lean, type-safe, `fetch`-based API client for the Hanko Passkey API
---

The `@teamhanko/passkeys-sdk` package lets you call the Hanko Passkey API from JavaScript/TypeScript that supports `fetch`.

This includes Node.js, Browsers, Deno, Bun, and frameworks like Next.js, Astro, and SvelteKit.

<CodeGroup>

```bash npm
npm i @teamhanko/passkeys-sdk
```

```bash yarn
yarn add @teamhanko/passkeys-sdk
```

```bash bun
bun add @teamhanko/passkeys-sdk
```

```bash pnpm
pnpm add @teamhanko/passkeys-sdk
```

</CodeGroup>

## Usage

A `tenant` is an API client instance for one tenant of the Hanko Passkey API.

<Accordion title="See multitenancy">

If the app you’re building supports organizations, teams, or anything similar, you will likely have heard of multitenancy.

The Passkey API supports multitenancy as well — you can create tenants (a.k.a. organizations, teams, …) and add the passkeys of users exclusively to those tenants. Then your users will only be able to log in with passkeys specifically for that tenant.

For example: In your app, a user is part of two teams: the “ACME Corp.” and the “A-Team.”

They create a passkey to log into “ACME Corp.”

That passkey will only work for the “ACME Corp.”, not the “A-Team”.

</Accordion>

If you use Hanko Cloud, get your tenant ID and API key from the [dashboard](https://cloud.hanko.io/organizations).

Create a new tenant instance:

```ts
const passkeyApi = tenant({
  tenantId: "<your tenant id>",
  apiKey: "<your secret api key>",
});
```

- If you only use public API methods, like `/login/initialize`, you can omit the `apiKey`.
- If you're self-hosting the Passkey API, make sure to pass the `baseUrl` as well.

Now you're ready to call the API. For example, to start the process of registering a new passkey:

```ts
const creationOptions = await tenant.registration.initialize({
  userId: "<id of the user in your database>",
  username: "<username of the user>",
});
```

{/* TODO complete node.js tutorial just like "/passkey-api/example-implementation"? */}

## Methods

### Initializing the API

```typescript
const passkeys = tenant({ baseUrl?: string, apiKey: string, tenantId: string })
```

### Registration

#### Initialize Registration

```typescript
passkeys.registration.initialize({ userId: string, username: string, icon?: string, displayName?: string })
```

Initialize the registration process for a new user.

#### Finalize Registration

```typescript
passkeys.registration.finalize(credential)
```

Finalize the registration process. The `credential` should be the credential returned by the user's browser (from `navigator.credentials.create()`).

### Login

#### Initialize Login

```typescript
passkeys.login.initialize()
```

Initialize the login process.

#### Finalize Login

```typescript
passkeys.login.finalize(credential)
```

Finalize the login process. The `credential` should be the credential returned by the user's browser (from `navigator.credentials.get()`).

### Multi-Factor Authentication (MFA)

#### MFA Registration

```typescript
passkeys.user(userId).mfa.registration.initialize({ username: string, icon?: string, displayName?: string })
passkeys.user(userId).mfa.registration.finalize(credential)
```

Initialize and finalize MFA registration for a specific user.

#### MFA Login

```typescript
passkeys.user(userId).mfa.login.initialize()
passkeys.user(userId).mfa.login.finalize(credential)
```

Initialize and finalize MFA login for a specific user.

### User-specific Operations

These methods all operate on a user. You'll need to pass their user ID using `.user(userId)`

#### Get User Credentials

```typescript
passkeys.user(userId).credentials()
```

Retrieve a list of WebAuthn credentials for a specific user.

### Credential Operations

#### Remove Credential

```typescript
passkeys.credential(credentialId).remove()
```

Remove a specific credential.

### Other Operations

#### Get JWKS

```typescript
passkeys.jwks()
```

Retrieve the JSON Web Key Set (JWKS) for the tenant.

## Error Handling

The API uses a custom `PasskeyError` class for error handling. Errors will include a message and potentially the original error that caused the issue.
